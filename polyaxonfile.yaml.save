---
version: 1

kind: experiment

framework: pytorch

tags: [examples]
 
build:
  image: pytorch/pytorch:1.5.1-cuda10.1-cudnn7-runtime
  build_steps:
    - pip install -r requirements.txt
    - pip install mmcv-full
    - pip install git+https://github.com/open-mmlab/mmdetection.git
    - pip install git+https://github.com/open-mmlab/mmsegmentation.git
environment:
  resources:
    cpu:
      requests: 4
      limits: 10
    memory:
      requests: 30720
      limits: 51200
    gpu:
      requests: 1
      limits: 1

  
run:
  cmd: python3 completion/train.py -c completion/cfgs/vrcnet_train.yaml --cluster
